{"version":3,"names":[],"mappings":"","sources":["main.js"],"sourcesContent":["// CEK DEVICE RES TO SET MENU\r\nfunction setMenu(){\r\n  if ($(window).width() < 767) {\r\n    $('body').addClass('menu-collapse');\r\n  }else{\r\n    $('body').removeClass('menu-collapse');\r\n  }\r\n}setMenu();\r\n\r\n// TOGGLE MENU FUNCTION\r\n$('.menu-toggle').click(function() {\r\n    $('body').toggleClass('menu-collapse');\r\n})\r\n\r\n// RUN ON WINDOW RESIZE\r\n$(window).resize(function() {\r\n  setMenu();\r\n});\r\n\r\n// SET PLUGIN\r\nfunction setPlugin() {\r\n\r\n    $('.select-control').each(function() {\r\n        var select = $(this);\r\n\r\n        select.selectpicker({\r\n            style: 'select-control',\r\n            width: '100%',\r\n            iconBase: 'fa',\r\n            tickIcon: 'fa-check',\r\n        });\r\n    });\r\n\r\n    $('.date-control').each(function(){\r\n        $(this).find('input').datepicker({\r\n            todayHighlight: true,\r\n            autoclose: true\r\n        });\r\n    });\r\n\r\n    $('[data-toggle=\"tooltip\"]').tooltip();\r\n\r\n    $('.input-group').each(function(){\r\n      var t = $(this),\r\n          input = t.find('input');\r\n      input.focus(function(){\r\n        t.addClass('focused');\r\n      }).blur(function(){\r\n        t.removeClass('focused');\r\n      });\r\n    });\r\n\r\n}setPlugin();\r\n\r\n\r\n// FIELDS MULTIPLIER\r\n$('.multiplier').each(function(){\r\n  var t       = $(this),\r\n      max     = t.data('max'),\r\n      box     = t.find('.box-item'),\r\n      item    = t.find('.item').eq(0),\r\n      add     = t.find('.btn-add'),\r\n      format;\r\n\r\n  item.find('select').each(function(){\r\n    $(this).selectpicker('destroy');\r\n  });\r\n\r\n  format = item.clone().hide();\r\n  bind(item);\r\n\r\n  function bind (obj) {\r\n    setPlugin();\r\n  }\r\n\r\n  function reOrder(obj){\r\n    var itm = obj.find('.item');\r\n    itm.each(function(i){\r\n      var tmp = i + 1;\r\n      //re order name\r\n      $(this).find('input').each(function(){\r\n        if($(this).attr('name')){\r\n          var name = $(this).attr('name').replace( /\\[\\d/g,'['+(i));\r\n          $(this).attr('name',name);\r\n        }\r\n      });\r\n      //Re order title\r\n      $(this).find('.title').each(function(){\r\n        var title = $(this).text();\r\n        title = title.substring(0, title.indexOf(' '));\r\n        $(this).text('Employee ' + (i+1));\r\n      })\r\n\r\n    });\r\n\r\n    //toggle delete button\r\n    if(itm.length > 1){\r\n      itm.closest('.multiplier').addClass('multiplied');\r\n    }else{\r\n      itm.closest('.multiplier').removeClass('multiplied');\r\n    }\r\n    //cek limit\r\n    if(itm.length >= max){\r\n      itm.closest('.multiplier').addClass('max');\r\n    }else{\r\n      itm.closest('.multiplier').removeClass('max');\r\n    };\r\n  };\r\n\r\n  add.click(function(e){\r\n    e.preventDefault();\r\n    var html = format.clone();\r\n    box.append(html);\r\n    bind(html);\r\n    html.slideDown(300);\r\n    reOrder(box);\r\n  });\r\n\r\n  // DELETE\r\n  $('body').on('click','.btn-del',function(e){\r\n    e.preventDefault();\r\n    var parent = $(this).closest('.item'),\r\n        target = parent.closest('.multiplier');\r\n\r\n    parent.slideUp(300, function(){\r\n      parent.remove();\r\n      reOrder(target);\r\n    });\r\n  });\r\n});"],"file":"main.js"}